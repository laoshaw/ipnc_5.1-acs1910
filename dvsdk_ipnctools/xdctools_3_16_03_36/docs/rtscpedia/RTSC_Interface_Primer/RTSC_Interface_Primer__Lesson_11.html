<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
				<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="mediawiki-tip/opensearch_desc.php" title="RTSC-Pedia (English)" />
		<title>RTSC Interface Primer/Lesson 11 - Offline Version</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "../common/skins/common/shared.css";
			@import "../common/skins/monobook/main.css";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../common/skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "../common/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "../common/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "../common/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "../common/skins/monobook/IE70Fixes.css";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="../common/skins/common/IEFixes.js?97"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "../common/skins";
var wgArticlePath = "/docs-tip/$1";
var wgScriptPath = "mediawiki-tip";
var wgScript = "mediawiki-tip/index.php";
var wgServer = "http://rtsc.eclipse.org";
var wgCanonicalNamespace = "Special";
var wgCanonicalSpecialPageName = "Offline";
var wgNamespaceNumber = -1;
var wgPageName = "Special:Offline";
var wgTitle = "Offline";
var wgAction = "view";
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
var wgArticleId = 0;
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = 0;
/*]]>*/</script>
                
		<script type="text/javascript" src="../common/skins/common/wikibits.js?97"><!-- wikibits js --></script>
		<script type="text/javascript" src="mediawiki-tip/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "mediawiki-tip/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "mediawiki-tip/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "mediawiki-tip/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
<link rel="stylesheet" type="text/css" href="../common/extensions/rtsc/ViewStyle.css" /><link rel="stylesheet" type="text/css" href="../common/extensions/rtsc/MainStyle.css" />
	</head>
<body  class="mediawiki ns--1 ltr page-Special_Offline">
	<div id="globalWrapper" align="center">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading"></h1>
		<div id="bodyContent">
			<h3 id="siteSub">From RTSC-Pedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content --><div id="revInfo">revision tip</div><span id="printInfo">&#151;&#151;&nbsp;LANDSCAPE orientation</span><table width="100%"><tr><td class="lights"><img src="../common/extensions/rtsc/images/yellow_light.png" /></td><td class="offline">[<a href="/mediawiki-tip/index.php?title=RTSC Interface Primer/Lesson 11&amp;printable=yes" title="just this page in black-and-white, ready for printing in landscape orientation">printable version</a>]&nbsp;&nbsp;</td><td class="offlineDate">offline version generated on 02-Oct-2009 22:10 UTC</td><td class="arrows"><a href="RTSC_Interface_Primer.html#TOC" title="RTSC Interface Primer"><img src="../common/extensions/rtsc/images/Arrow_up.png" /></a>&nbsp;<a href="RTSC_Interface_Primer__Lesson_12.html" title="Lesson 12"><img src="../common/extensions/rtsc/images/Arrow_right.png" /></a></td></tr></table><p id="title">RTSC Interface Primer/Lesson 11</p><p id="subtitle">Module abstraction &#151; specifying &amp; implementing the <tt>IGen</tt> interface</p>
<p>We'll begin by introducing a new module named <tt>SineGen</tt> which, like the <tt>RandGen</tt> module of <a href="../RTSC_Module_Primer/RTSC_Module_Primer__Lesson_8.html" title="RTSC Module Primer/Lesson 8">Lesson 8</a>, manages instance objects representing distinct numeric sequences.  Using the per-instance function <tt>SineGen_next</tt>, clients can retrieve successive values of a sine wave generated by an underlying object; and using per-instance configuration parameters for designating frequency and sampling rate, clients can shape the characteristics of the generated sine wave when creating a <tt>SineGen</tt> instance.
</p><p>While you certainly wouldn't expect any sharing of code in the implementation of these two modules&#151;the algorithms and state variables for generating random numbers and sine waves have little in common&#151;the <i>specification</i> of <tt>RandGen</tt> and <tt>SineGen</tt> reveals an obvious similarity in their external behavior which we'll then formally capture as a RTSC <b>interface</b> named <tt>IGen</tt>.      
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Another_sequence_generator"><span class="tocnumber">1</span> <span class="toctext">Another sequence generator</span></a></li>
<li class="toclevel-1"><a href="#Abstracting_RandGen_and_SineGen"><span class="tocnumber">2</span> <span class="toctext">Abstracting RandGen and SineGen</span></a></li>
<li class="toclevel-1"><a href="#Implementing_IGen_modules"><span class="tocnumber">3</span> <span class="toctext">Implementing IGen modules</span></a></li>
<li class="toclevel-1"><a href="#Further_abstracting_SineGen"><span class="tocnumber">4</span> <span class="toctext">Further abstracting SineGen</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Another_sequence_generator"></a><h2> <span class="mw-headline">Another sequence generator</span></h2>
<p>Though we've gone out of our way to basically clone <tt>SineGen.xdc</tt> from the original <tt>RandGen.xdc</tt>, preserving common feature names wherever possible, differences nevertheless arise between the specs of these otherwise similar modules.  For instructional purposes, we've omitted some important details here to facilitate a more meaningful side-by-side comparison.
</p>
<table>

<tr valign="top">
<td><div id="cl-1:1a"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>RandGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">1a</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Random-number sequence generator */</span>
<span class="kw1">module</span> RandGen <span class="br0">&#123;</span>
&nbsp;
    <span class="kw1">const</span> <span class="kw2">Int16</span> MAXVALUE = <span class="br0">&#40;</span>1U &lt;&lt; <span class="nu0">15</span><span class="br0">&#41;</span> - <span class="nu0">1</span>;   
&nbsp;
<span class="kw1">instance</span>:
&nbsp;
    <span class="kw2">create</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">config</span> <span class="kw2">Int16</span> range = MAXVALUE;
    <span class="kw1">config</span> <span class="kw2">UInt</span> seed = <span class="nu0">1</span>;
&nbsp;
&nbsp;
    <span class="kw2">Int16</span> next<span class="br0">&#40;</span><span class="br0">&#41;</span>;
    <span class="kw2">Void</span> nextn<span class="br0">&#40;</span><span class="kw2">Int16</span> *buffer, <span class="kw2">Int</span> count<span class="br0">&#41;</span>;
&nbsp;
<span class="kw1">internal</span>:    
    <span class="coMULTI">/* implementation details ... */</span>
<span class="br0">&#125;</span></pre></td></tr></table>
</td><td><div id="cl-1:1b"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>SineGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">1b</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Sine wave sequence generator */</span>
<span class="kw1">module</span> SineGen <span class="br0">&#123;</span>
&nbsp;
    <span class="kw1">const</span> <span class="kw2">Int16</span> MAXVALUE = <span class="br0">&#40;</span>1U &lt;&lt; <span class="nu0">15</span><span class="br0">&#41;</span> - <span class="nu0">1</span>;   
&nbsp;
<span class="kw1">instance</span>:
&nbsp;
    <span class="kw2">create</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">config</span> <span class="kw2">Int</span> range = MAXVALUE;
    <span class="kw1">config</span> <span class="kw2">Int</span> freq = <span class="nu0">1</span>;
    <span class="kw1">config</span> <span class="kw2">Int</span> rate = <span class="nu0">256</span>;
&nbsp;
    <span class="kw2">Int16</span> next<span class="br0">&#40;</span><span class="br0">&#41;</span>;
    <span class="kw2">Void</span> nextn<span class="br0">&#40;</span><span class="kw2">Int16</span> *buffer, <span class="kw2">Int</span> count<span class="br0">&#41;</span>;
&nbsp;
<span class="kw1">internal</span>:    
    <span class="coMULTI">/* implementation details ... */</span>
<span class="br0">&#125;</span></pre></td></tr></table>
</td></tr></table>
<p>Dismissing some obvious differences we'd expect to find following the <tt class="color-green" style="font-size:110%; font-weight:bold;">XDCspec</tt> <span class="kw1"><tt>internal</tt></span> keyword in each spec file&#151;remember, these modules share nothing in their underlying implementations&#151;the per-instance configs declared after lines <a class="codexLink" href="#cl-1:1a"><span class="codexLink">1a</span></a> and <a class="codexLink" href="#cl-1:1b"><span class="codexLink">1b</span></a> respectively reflect <i>unique</i> aspects of creating <tt>RandGen</tt> versus <tt>SineGen</tt> instances.  But except for assigning these few configs, you could easily imagine virtually identical client programs using these two modules.
</p>
<table>

<tr valign="top">
<td><div id="cl-2:2a"></div><div id="cl-2:3a"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>RandGenProg.c</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">2a</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">3a</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="c"><span class="re1">#define</span> COUNT <span class="nu0">10</span>
&nbsp;
<span class="kw2">Int</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    RandGen_Handle rgInst;
    RandGen_Params rgParams;
    <span class="kw2">Int</span> i;
&nbsp;
    RandGen_Params_init<span class="br0">&#40;</span>&amp;rgParams<span class="br0">&#41;</span>;
    <span class="coMULTI">/* selectively assign configs ... */</span>
    rgInst = RandGen_create<span class="br0">&#40;</span>&amp;rgParams, <span class="kw2">NULL</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">for</span> <span class="br0">&#40;</span>i = <span class="nu0">0</span>; i &lt; COUNT; i++<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        System_printf<span class="br0">&#40;</span><span class="st0">&quot;%d &quot;</span>,
            RandGen_next<span class="br0">&#40;</span>rgInst<span class="br0">&#41;</span><span class="br0">&#41;</span>; 
    <span class="br0">&#125;</span>
    System_printf<span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">return</span> <span class="nu0">0</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
</td><td><div id="cl-2:2b"></div><div id="cl-2:3b"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>SineGenProg.c</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">2b</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">3b</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="c"><span class="re1">#define</span> COUNT <span class="nu0">10</span>
&nbsp;
<span class="kw2">Int</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    SineGen_Handle sgInst;
    SineGen_Params sgParams;
    <span class="kw2">Int</span> i;
&nbsp;
    SineGen_Params_init<span class="br0">&#40;</span>&amp;sgParams<span class="br0">&#41;</span>;
    <span class="coMULTI">/* selectively assign configs ... */</span>
    sgInst = SineGen_create<span class="br0">&#40;</span>&amp;sgParams, <span class="kw2">NULL</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">for</span> <span class="br0">&#40;</span>i = <span class="nu0">0</span>; i &lt; COUNT; i++<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        System_printf<span class="br0">&#40;</span><span class="st0">&quot;%d &quot;</span>,
            SineGen_next<span class="br0">&#40;</span>sgInst<span class="br0">&#41;</span><span class="br0">&#41;</span>; 
    <span class="br0">&#125;</span>
    System_printf<span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">return</span> <span class="nu0">0</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
</td></tr></table>
<p>Interesting to note, had we instead passed <tt>NULL</tt> to the <tt><i>Mod</i>_create</tt> calls at lines <a class="codexLink" href="#cl-2:2a"><span class="codexLink">2a</span></a> and <a class="codexLink" href="#cl-2:2b"><span class="codexLink">2b</span></a>&#151;accepting default values for all per-instance configs&#151;this pair of client programs would become perfect clones of one another.  Regardless of how we've created <tt>rgInst</tt> and <tt>sgInst</tt>, though, both programs use identical logic to manipulate these instance objects around lines <a class="codexLink" href="#cl-2:3a"><span class="codexLink">3a</span></a> and <a class="codexLink" href="#cl-2:3b"><span class="codexLink">3b</span></a>.
</p><p>Lesson 15 explores techniques for effectively collapsing these sorts of "program clones" into a single <i>generic</i> client application that could comprehend any sort of sequence-generation module&#151;present or future.
</p>
<a name="Abstracting_RandGen_and_SineGen"></a><h2> <span class="mw-headline">Abstracting <tt>RandGen</tt> and <tt>SineGen</tt></span></h2>
<p>As programmers, we're constantly looking for opportunities to remove unnecessary redundancy from our source code.  Termed the <i><b>DRY</b></i> principle by others&#151;meaning <i>Don't Repeat Yourself</i>&#151;good software engineering practice encourages us to define programmatic entities no more than once.  Indeed, the very thought of taking a "copy-and-modify" approach to software construction&#151;whether specifying new modules or developing client programs&#151;should always propel us to find a single, more generic solution to the problem at hand.
</p><p>Clearly, the specs of <tt>RandGen</tt> and <tt>SineGen</tt> afford us with ample opportunities to find some common ground that captures the essence of both modules&#151;indeed, <i>all</i> modules that manage instance objects representing distinct numeric sequences.  Consider, then, our first <tt class="color-green" style="font-size:110%; font-weight:bold;">XDCspec</tt> <span class="kw1"><tt>interface</tt></span> definition canonically named <tt>stdsorg.math.IGen</tt>.
</p>
<table>

<tr>
<td><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>stdsorg/math/package.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Abstract math support */</span>  
<span class="kw1">package</span> stdsorg.math <span class="br0">&#123;</span>
    <span class="kw1">interface</span> IGen;
<span class="br0">&#125;</span>;</pre></td></tr></table>
</td></tr>
<tr>
<td>&nbsp;
</td></tr>
<div id="cl-3:1"></div><div id="cl-3:2"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>stdsorg/math/IGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br /><span class="codexLab">1</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">2</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Abstract sequence generator */</span>
<span class="kw1">interface</span> IGen <span class="br0">&#123;</span>
&nbsp;
   <span class="xdoc">/*! Largest possible number in a sequence */</span>
   <span class="kw1">const</span> <span class="kw2">Int16</span> MAXVALUE = <span class="br0">&#40;</span>1U &lt;&lt; <span class="nu0">15</span><span class="br0">&#41;</span> - <span class="nu0">1</span>;
&nbsp;
<span class="kw1">instance</span>:
&nbsp;
   <span class="kw2">create</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="xdoc">/*! Numbers between (0, `range`] */</span>
    <span class="kw1">config</span> <span class="kw2">Int16</span> range = MAXVALUE;
&nbsp;
   <span class="xdoc">/*! Generate the next number in this sequence */</span>
   <span class="kw2">Int16</span> next<span class="br0">&#40;</span><span class="br0">&#41;</span>;
&nbsp;
   <span class="xdoc">/*! Generate the next `count` numbers in this sequence
    *
    *  @param(buffer) output buffer
    *  @param(count) number of numbers
    */</span>
    <span class="kw2">Void</span> nextn<span class="br0">&#40;</span><span class="kw2">Int16</span> *buffer, <span class="kw2">Int</span> count<span class="br0">&#41;</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
</table>
<p>Unlike RTSC modules&#151;characterized by a public specification <i>and</i> an internal implementation&#151;a RTSC interface by itself has no implementation; you'll never see the keyword <span class="kw1"><tt>internal</tt></span> in an interface spec like <tt>IGen.xdc</tt>, and you'll never find a corresponding <tt>IGen.c</tt> file implementing the functions declared in this interface.  Put another way, a RTSC interface is "pure spec"&#151;an abstraction that ultimately defines an open-ended <i>family</i> of conforming modules that each implement a common set of specified functions in their own unique manner.
</p>
<div class="Info"><p class="Info">A bit of history.... The concept of an abstract interface devoid of any implementation first achieved prominence with the IDLs or <i>interface definition languages</i> [sic] that lie at the heart of component-models like COM and CORBA, used in concert with C++ several decades ago; interestingly enough, C++ still hasn't admitted <span class="kw1"><tt>interface</tt></span> into its set of language keywords, though as a practical matter one can simulate the construct through disciplined use of (non-final) classes defining only constants, types, and so-called pure virtual functions.  More recently, languages like Java and C# took the logical next-step and elevated the concept of an abstract interface to first-class status through a corresponding keyword; <tt class="color-green" style="font-size:110%; font-weight:bold;">XDCspec</tt> has simply followed the lead of others.  Though embodied a little differently in each language environment, one common practice surrounding interfaces seems to have stuck from outset&#151;a convention whereby the <i>names</i> of interfaces always begin with '<tt>I</tt>', as in <tt>IGen</tt>.  We don't plan to rock the boat here.</p></div>
<p>To declare its potential membership in such a family, a module simply <i>inherits</i> a previously defined interface as the conceptual starting point for its own specification.  As an illustration, the (new) package <tt>bravo.math2</tt> contains a <tt>RandGen</tt> and a <tt>SineGen</tt> module that each inherit the <tt>stdsorg.math.IGen</tt> interface.  Compared with the original <tt>bravo.math.RandGen</tt> module introduced back in <a href="../RTSC_Module_Primer/RTSC_Module_Primer__Lesson_8.html#cl-1:1" title="RTSC Module Primer/Lesson 8">Lesson 8</a>, our new <tt>RandGen.xdc</tt> only contains declarations <i>not</i> already covered within the <tt>IGen.xdc</tt> interface definition.      
</p>
<table>

<tr>
<td><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>bravo/math2/package.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="kw1">requires</span> stdsorg.math;
&nbsp;
<span class="xdoc">/*! Collection of math modules */</span>  
<span class="kw1">package</span> bravo.math2 <span class="br0">&#123;</span>
    <span class="kw1">module</span> RandGen;
    <span class="kw1">module</span> SineGen;
<span class="br0">&#125;</span>;</pre></td></tr></table>
</td></tr>
<tr>
<td>&nbsp;
</td></tr>
<tr>
<td><div id="cl-3:3"></div><div id="cl-3:4"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>bravo/math2/RandGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br /><span class="codexLab">3</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">4</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Random-number sequence generator */</span>
<span class="kw1">module</span> RandGen <span class="kw1">inherits</span> stdsorg.math.IGen <span class="br0">&#123;</span>
&nbsp;
<span class="kw1">instance</span>:
&nbsp;
    <span class="xdoc">/*! Random-number seed value */</span>
    <span class="kw1">config</span> <span class="kw2">UInt</span> seed = <span class="nu0">1</span>;
&nbsp;
<span class="kw1">internal</span>:    
&nbsp;
    <span class="kw1">struct</span> Instance_State <span class="br0">&#123;</span>
        <span class="kw2">Int16</span> range;  <span class="coMULTI">/* range parameter value */</span>
        <span class="kw2">ULong</span> next;   <span class="coMULTI">/* next value in sequence */</span>
    <span class="br0">&#125;</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
</td></tr></table>
<p>The <span class="kw1"><tt>inherits</tt></span> clause on line <a class="codexLink" href="#cl-3:3"><span class="codexLink">3</span></a> conceptually prefixes our new <tt>RandGen.xdc</tt> spec with all of the declarations following line <a class="codexLink" href="#cl-3:1"><span class="codexLink">1</span></a> of <tt>IGen.xdc</tt>, as if we had explicitly written them out&#151;which we originally <i>did</i> back in <a href="../RTSC_Module_Primer/RTSC_Module_Primer__Lesson_8.html#cl-1:1" title="RTSC Module Primer/Lesson 8">Lesson 8</a>.  In general, a RTSC module that inherits a RTSC interface will <i>extend</i> the latter's spec by introducing additional client-visible features.  In the case of <tt>RandGen</tt>, line <a class="codexLink" href="#cl-3:4"><span class="codexLink">4</span></a> of its module spec introduces another per-instance config (named <tt>seed</tt>) above and beyond the <tt>range</tt> config already declared back at line <a class="codexLink" href="#cl-3:2"><span class="codexLink">2</span></a> of <tt>IGen.xdc</tt>.
</p><p>The spec for <tt>bravo.math2.SineGen</tt> follows suit, not only by inheriting <tt>stdsorg.math.IGen</tt> but also by augmenting the programmatic features already defined in this interface with additional client-visible elements. 
</p>
<div id="cl-3:5"></div><div id="cl-3:6"></div><div id="cl-3:7"></div><div id="cl-3:8"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>bravo/math2/SineGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">5</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">6</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">7</span><br />&nbsp;<br /><span class="codexLab">8</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Sine wave sequence generator */</span>
<span class="kw1">module</span> SineGen <span class="kw1">inherits</span> stdsorg.math.IGen <span class="br0">&#123;</span>
&nbsp;
    <span class="xdoc">/*! Size of internal sine table */</span>
    <span class="kw1">config</span> <span class="kw2">Int</span> sineTabSize = <span class="nu0">256</span>;
&nbsp;
<span class="kw1">instance</span>:
&nbsp;
    <span class="xdoc">/*! Sine wave frequency */</span>	
    <span class="kw1">config</span> <span class="kw2">Int</span> freq = <span class="nu0">1</span>;
&nbsp;
    <span class="xdoc">/*! Sine wave sample rate */</span>	
    <span class="kw1">config</span> <span class="kw2">Int</span> rate = <span class="nu0">256</span>;
&nbsp;
<span class="kw1">internal</span>:    
&nbsp;
    <span class="xdoc">/*! internal sine table supporting generation */</span>
    <span class="kw1">config</span> <span class="kw2">Int16</span> sineTab<span class="br0">&#91;</span><span class="br0">&#93;</span>;
&nbsp;
    <span class="kw1">struct</span> Instance_State <span class="br0">&#123;</span>
        <span class="kw2">Int</span> shift;  <span class="coMULTI">/* gain adjustment factor */</span>
        <span class="kw2">Int</span> step;   <span class="coMULTI">/* index increment value */</span>
        <span class="kw2">Int</span> index;  <span class="coMULTI">/* current table index */</span>
    <span class="br0">&#125;</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
<p>Besides a pair of per-instance configs declared after line <a class="codexLink" href="#cl-3:6"><span class="codexLink">6</span></a>, <tt>SineGen</tt> also extends the <tt>IGen</tt> spec with a module-wide configuration parameter named <tt>sineTabSize</tt> declared at line <a class="codexLink" href="#cl-3:5"><span class="codexLink">5</span></a>.  This config enables <tt>SineGen</tt> clients to control the size of an internal table of sine values used in the implementation of <tt>SineGen_next</tt>, essentially allowing generation of higher-frequency sine waves by increasing the module's memory footprint.
</p><p>As you'll see momentarily in the implementation of the <tt>SineGen</tt> module, we've elected to represent the sine table itself as an <i>internal</i> module-wide config declared at line <a class="codexLink" href="#cl-3:7"><span class="codexLink">7</span></a>&#151;a static array of <tt>const</tt> data in the target-domain that we'll dimension and initialize in the meta-domain.  To maximize runtime performance, you should always prefer module-wide configs over state variables whenever representing <i>readonly</i> information in the target-domain.
</p>
<div class="Info"><p class="Info">Beyond the special <tt>Module_State</tt> or <tt>Instance_State</tt> structure definitions seen in most of our examples, the <span class="kw1"><tt>internal</tt></span> section of a module <tt>.xdc</tt> file can declare other sorts of programmatic entities&#151;constants, types, configs, even functions&#151;that in some way support the module's private implementation; and of course, all of these internal declarations logically remain hidden from the client.</p></div>
<a name="Implementing_IGen_modules"></a><h2> <span class="mw-headline">Implementing <tt>IGen</tt> modules</span></h2>
<p>Before turning to <tt>SineGen</tt>&#151;and its rather noteworthy technique of leveraging meta-domain functions to compute target-domain data-sets&#151;let's quickly address the implementation of <tt>bravo.math2.RandGen</tt> which (like <tt>SineGen</tt>) inherits much of its specification from the <tt>stdsorg.math.IGen</tt> interface.  As you've already seen, despite migrating to the new <tt>bravo.math2</tt> package&#151;and now featuring a more concise <tt class="color-green" style="font-size:110%; font-weight:bold;">XDCspec</tt> <a href="#cl-1:1a" title="">source file</a>&#151;the module's internal details haven't changed from the original <tt>RandGen.xdc</tt> file from <a href="../RTSC_Module_Primer/RTSC_Module_Primer__Lesson_8.html#cl-1:1" title="RTSC Module Primer/Lesson 8">Lesson 8</a>.
</p><p>And now comes the interesting part.... The implementation of <tt>bravo.math2.RandGen</tt> is <i><b>absolutely identical</b></i> to the <tt>RandGen.c</tt> target-implementation first seen in <a href="../RTSC_Module_Primer/RTSC_Module_Primer__Lesson_8.html#cl-2:1" title="RTSC Module Primer/Lesson 8">Lesson 8</a>; and ditto for the <tt>RandGen.xs</tt> meta-implementation seen later on in the same <a href="../RTSC_Module_Primer/RTSC_Module_Primer__Lesson_8.html#cl-2:4" title="RTSC Module Primer/Lesson 8">lesson</a>.  Even though the new <tt>RandGen</tt> module inherits client-visible functions like <tt>next</tt> and <tt>nextn</tt> from the <tt>IGen</tt> interface, the module supplier continues to implement these functions as if we had <i>directly specified</i> them in <tt>RandGen.xdc</tt>&#151;which, by virtue of the <span class="kw1"><tt>inherits</tt></span> clause at line <a class="codexLink" href="#cl-3:3"><span class="codexLink">3</span></a> of this file, we effectively have.
</p>
<div class="Info"><p class="Info">Each RTSC module defines a distinct programmatic scope that in turn introduces named elements such as configs or functions; and like any scope, no two elements contained therein can have the same name.  By inheriting a RTSC interface&#151;which itself may declare other elements&#151;an heir module basically pre-populates its own scope with a common set of declarations.  The names of any additional elements specified by the inheriting module cannot, of course, conflict with any earlier declarations associated with the inherited interface.</p></div>
<p>Like <tt>RandGen</tt>, the target-implementation of <tt>SineGen</tt> contains no direct reference to the <tt>IGen</tt> interface&#151;as if we had explicitly declared the functions <tt>next</tt> and <tt>nextn</tt> in <tt>SineGen.xdc</tt>.
</p>
<div id="cl-4:1"></div><div id="cl-4:2"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>bravo/math2/SineGen.c</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br /><span class="codexLab">1</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">2</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="c"><span class="re1">#include</span> <span class="st0">&quot;package/internal/SineGen.xdc.h&quot;</span>
&nbsp;
<span class="kw2">Void</span> SineGen_Instance_init<span class="br0">&#40;</span>SineGen_Object *obj, const SineGen_Params *params<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="kw2">Int</span> r;
&nbsp;
    obj-&gt;shift = <span class="nu0">15</span>;
    <span class="kw1">for</span> <span class="br0">&#40;</span>r = params-&gt;range; r &gt; <span class="nu0">0</span>; r &gt;&gt;= <span class="nu0">1</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        --obj-&gt;shift;
    <span class="br0">&#125;</span>
&nbsp;
    obj-&gt;step = SineGen_sineTabSize * params-&gt;freq / params-&gt;rate;
    obj-&gt;index = <span class="nu0">0</span>;
<span class="br0">&#125;</span>
&nbsp;
<span class="kw2">Int16</span> SineGen_next<span class="br0">&#40;</span>SineGen_Object *obj<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="kw2">Int</span> res;
&nbsp;
    res = SineGen_sineTab<span class="br0">&#91;</span>obj-&gt;index<span class="br0">&#93;</span> &gt;&gt; <span class="br0">&#40;</span>obj-&gt;shift<span class="br0">&#41;</span>;
    obj-&gt;index = <span class="br0">&#40;</span>obj-&gt;index + obj-&gt;step<span class="br0">&#41;</span>&nbsp;% SineGen_sineTabSize;
&nbsp;
    <span class="kw1">return</span> res;
<span class="br0">&#125;</span>
&nbsp;
<span class="kw2">Void</span> SineGen_nextn<span class="br0">&#40;</span>SineGen_Object *obj, <span class="kw2">Int16</span> *buffer, <span class="kw2">Int</span> count<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="kw2">Int</span> i;
&nbsp;
    <span class="kw1">for</span> <span class="br0">&#40;</span>i = <span class="nu0">0</span>; i &lt; count; i++<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        *buffer++ = SineGen_next<span class="br0">&#40;</span>obj<span class="br0">&#41;</span>;
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></td></tr></table>
<p>The function <tt>SineGen_next</tt> defined at line <a class="codexLink" href="#cl-4:2"><span class="codexLink">2</span></a> retrieves successive values in the sequence by stepping through the data held in the internal <tt>sineTab</tt> config and then scaling the result.  The special <tt>Instance_init</tt> function defined at line <a class="codexLink" href="#cl-4:1"><span class="codexLink">1</span></a> computes the <tt>obj-&gt;step</tt> value based on the module-wide config <tt>sineTabSize</tt> as well as the per-instance configs <tt>freq</tt> and <tt>rate</tt>; the per-instance config <tt>range</tt> similarly determines the value for <tt>obj-&gt;scale</tt> used later.
</p><p>Turning to the meta-domain, <tt>SineGen.xs</tt> defines two of the special functions seen in earlier module implementations.
</p>
<div id="cl-4:3"></div><div id="cl-4:4"></div><div id="cl-4:5"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>bravo/math2/SineGen.xs</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br /><span class="codexLab">3</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">4</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">5</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcscript"><span class="kw1">function</span> module$static$init<span class="br0">&#40;</span>obj, mod<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    mod.sineTab.length = mod.sineTabSize;
    <span class="kw1">var</span> incr = Math.PI / <span class="br0">&#40;</span>mod.sineTabSize / <span class="nu0">2</span><span class="br0">&#41;</span>;
&nbsp;
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw1">var</span> i = <span class="nu0">0</span>; i &lt; mod.sineTabSize; i++<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        mod.sineTab<span class="br0">&#91;</span>i<span class="br0">&#93;</span> = Math.round<span class="br0">&#40;</span>Math.sin<span class="br0">&#40;</span>incr * i<span class="br0">&#41;</span> * mod.MAXVALUE<span class="br0">&#41;</span>;
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="kw1">function</span> instance$static$init<span class="br0">&#40;</span>obj, params, mod<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    obj.shift = <span class="nu0">15</span>;
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw1">var</span> r = params.range; r &gt; <span class="nu0">0</span>; r &gt;&gt;= <span class="nu0">1</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        --obj.shift;
    <span class="br0">&#125;</span>
&nbsp;
    obj.step = mod.sineTabSize * params.freq / params.rate;
    obj.index = <span class="nu0">0</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
<p>Starting at the bottom, the meta-function <tt>instance$static$init</tt> beginning at line <a class="codexLink" href="#cl-4:5"><span class="codexLink">5</span></a> tracks the corresponding <tt>Instance_init</tt> target-function defined back at line <a class="codexLink" href="#cl-4:1"><span class="codexLink">1</span></a> in an obvious way (but with C's use of the underscore and arrow replaced here with the "object-oriented" dot notation of <tt class="color-red" style="font-size:110%; font-weight:bold;">XDCscript</tt>).  Though normally not necessary, this particular implementation of <tt>instance$static$init</tt> leverages a special <i>third</i> argument which references the current module&#151;<tt>SineGen</tt> in this case&#151;and provides direct access to module-wide configs such as <tt>sineTabSize</tt>. 
</p><p>With the internal config <tt>sineTab</tt> serving as a module-wide resource, the special meta-function <tt>module$static$init</tt> hence assumes responsibility for dimensioning our sine wave table at line <a class="codexLink" href="#cl-4:3"><span class="codexLink">3</span></a> as well as assigning its individual elements at line <a class="codexLink" href="#cl-4:4"><span class="codexLink">4</span></a>.  Note that the global identifier <tt>Math</tt> refers here to a built-in <tt class="color-red" style="font-size:110%; font-weight:bold;">XDCscript</tt> object whose named properties&#151;<tt>PI</tt>, <tt>round</tt>, and <tt>sin</tt>&#151;represent corresponding mathematical constants and functions.
</p>
<div class="Info"><p class="Info">Here too, the special meta-function <tt>module$static$init</tt> uses an extra argument named <tt>mod</tt> to access module-wide properties such as <tt>sineTab</tt> and <tt>MAXVALUE</tt>.  Unlike C, <tt class="color-red" style="font-size:110%; font-weight:bold;">XDCscript</tt> functions can omit naming any <i>trailing</i> arguments like <tt>mod</tt> (and even <tt>params</tt>) when not needed within the function's implementation.</p></div>
<a name="Further_abstracting_SineGen"></a><h2> <span class="mw-headline">Further abstracting <tt>SineGen</tt></span></h2>
<p>As we'll see throughout this Primer, one could imagine several viable implementations for a module like <tt>SineGen</tt>&#151;say, by making trade-offs between time and space or between speed and accuracy; indeed, one could even imagine several of these implementations co-existing in the same target program.  But every RTSC module must stay a <i>singleton</i>&#151;a unique pairing of a specification <i>and</i> an implementation together associated with a (long) globally-unique name such as <tt>bravo.math2.SineGen</tt>.
</p>
<div class="Info"><p class="Info">Though suppliers and clients alike will invariably employ short names such as <tt>SineGen_sineTab</tt> or <tt>SineGen_next</tt> when either implementing or using a module like <tt>bravo.math2.SineGen</tt> in the target-domain, these names in fact represent generated <span class="re1"><tt>#define</tt></span> aliases that expand to the actual C identifier associated with each spec'd config or function&#151;<tt>bravo_math2_SineGen_sineTab__C</tt> or <tt>bravo_math2_SineGen_next__E</tt> in this case.  From the linker's perspective, no more than one definition of these symbols can of course occur within any particular program image.  Though somewhat unnerving at first, long canonical identifiers prefixed with globally-unique package names and suffixed with a well-defined set of codes can actually help developers and integrators alike pinpoint the source of programming errors originating inside different packages produced by different suppliers.</p></div>
<p>Given the uniqueness constraint imposed upon each RTSC module, multiple implementations of the same module essentially implies <i>multiple</i> modules&#151;each individually and distinctly named&#151;that otherwise would share common elements in their respective specifications.  Once again, we can express this commonality through an abstract interface that specifies those client-visible features characterizing <i>any</i> module that purports to generate sine waves.
</p>
<div id="cl-5:1"></div><div id="cl-5:2"></div><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>ISineGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br /><span class="codexLab">1</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><span class="codexLab">2</span><br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Abstract sine wave generator */</span>
<span class="kw1">interface</span> ISineGen <span class="kw1">inherits</span> stdsorg.math.IGen <span class="br0">&#123;</span>
&nbsp;
<span class="kw1">instance</span>:
&nbsp;
    <span class="xdoc">/*! Sine wave frequency */</span>	
    <span class="kw1">config</span> <span class="kw2">Int</span> freq = <span class="nu0">1</span>;
&nbsp;
    <span class="xdoc">/*! Sine wave sample rate */</span>	
    <span class="kw1">config</span> <span class="kw2">Int</span> rate = <span class="nu0">256</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
<p>As you might have already imagined from looking at line <a class="codexLink" href="#cl-5:1"><span class="codexLink">1</span></a>, potential heirs of our original <tt>stdsorg.math.IGen</tt> interface can in general include any sort of spec'd RTSC <b>unit</b>&#151;not just concrete modules like <tt>bravo.math2.RandGen</tt> or <tt>bravo.math2.SineGen</tt> but other abstract interfaces (such as <tt>ISineGen</tt>) as well.  Here again, inheritance of <tt>stdsorg.math.IGen</tt> effectively pre-populates the <tt>ISineGen</tt> scope with a set of named elements that include the per-instance config <tt>range</tt> and the per-instance function <tt>next</tt>; the declarations beginning at line <a class="codexLink" href="#cl-5:2"><span class="codexLink">2</span></a> of <tt>ISineGen.xdc</tt> then proceed to extend the scope of this interface with additional elements pertinent to sine wave generation.
</p><p>By refactoring the interface hierarchy along these lines, the spec of our original <tt>SineGen</tt> module would now contain only those declarations relevant to the (unique) implementation of this particular module.  Applying this pattern more broadly, you could imagine a family of modules that all provide the <i>same</i> external functionality&#151;that spec'd in the <tt>ISineGen</tt> interface&#151;but implemented differently from one module to the next.
</p>
<table>

<tr valign="top">
<td><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>SineGen.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Sine wave sequence generator */</span>
<span class="kw1">module</span> SineGen <span class="kw1">inherits</span> ISineGen <span class="br0">&#123;</span>
&nbsp;
    <span class="xdoc">/*! Size of internal sine table */</span>
    <span class="kw1">config</span> <span class="kw2">Int</span> sineTabSize = <span class="nu0">256</span>;
&nbsp;
<span class="kw1">instance</span>:
    <span class="coMULTI">/* nothing to add here */</span>
&nbsp;
<span class="kw1">internal</span>:    
&nbsp;
    <span class="xdoc">/*! internal sine table supporting generation */</span>
    <span class="kw1">config</span> <span class="kw2">Int16</span> sineTab<span class="br0">&#91;</span><span class="br0">&#93;</span>;
&nbsp;
    <span class="kw1">struct</span> Instance_State <span class="br0">&#123;</span>
        <span class="kw2">Int</span> shift;  <span class="coMULTI">/* gain adjustment factor */</span>
        <span class="kw2">Int</span> step;   <span class="coMULTI">/* index increment value */</span>
        <span class="kw2">Int</span> index;  <span class="coMULTI">/* current table index */</span>
    <span class="br0">&#125;</span>;
<span class="br0">&#125;</span></pre></td></tr></table>
</td><td><table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>SineGenA.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Sine wave sequence generator A */</span>
<span class="kw1">module</span> SineGenA <span class="kw1">inherits</span> ISineGen <span class="br0">&#123;</span>
    <span class="coMULTI">/* additional client features */</span>
<span class="kw1">internal</span>:    
    <span class="coMULTI">/* implementation details */</span>
<span class="br0">&#125;</span></pre></td></tr></table>
<p></p>
<table cellpadding="0" cellspacing="0" class="codex"><tr><td class="codexLab"></td><td class="codexName"><tt>SineGenB.xdc</tt></td></tr><tr class="codex"><td class="codexLab"><tt class="codexLab">&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /></tt></td><td class="codexBody"><pre class="xdcspec"><span class="xdoc">/*! Sine wave sequence generator B */</span>
<span class="kw1">module</span> SineGenB <span class="kw1">inherits</span> ISineGen <span class="br0">&#123;</span>
    <span class="coMULTI">/* additional client features */</span>
<span class="kw1">internal</span>:    
    <span class="coMULTI">/* implementation details */</span>
<span class="br0">&#125;</span></pre></td></tr></table>
</td></tr></table>
<p>Remarkably, despite these changes in the inheritance hierarchy&#151;reflected in the more abbreviated <tt>SineGen.xdc</tt> spec seen here&#151;the source of our original <tt>SineGen.c</tt> <a href="#cl-4:1" title="">target-implementation</a> would remain absolutely identical.
</p>
<a name="See_also"></a><h2> <span class="mw-headline">See also</span></h2>
<p></p>
<table id="TOC" class="DocList">

<tr>
<td class="DocListSpacer1">&nbsp;
</td></tr></table>
<p></p>
<table width="100%"><tr><td class="lights"><img src="../common/extensions/rtsc/images/yellow_light.png" /></td><td class="offline">[<a href="/mediawiki-tip/index.php?title=RTSC Interface Primer/Lesson 11&amp;printable=yes" title="just this page in black-and-white, ready for printing in landscape orientation">printable version</a>]&nbsp;&nbsp;</td><td class="offlineDate">offline version generated on 02-Oct-2009 22:10 UTC</td><td class="arrows"><a href="RTSC_Interface_Primer.html#TOC" title="RTSC Interface Primer"><img src="../common/extensions/rtsc/images/Arrow_up.png" /></a>&nbsp;<a href="RTSC_Interface_Primer__Lesson_12.html" title="Lesson 12"><img src="../common/extensions/rtsc/images/Arrow_right.png" /></a></td></tr></table><div id=copyInfo>Copyright &#169; 2008 The Eclipse Foundation. All Rights Reserved</div>
<!-- 
Pre-expand include size: 11980 bytes
Post-expand include size: 3702 bytes
Template argument size: 367 bytes
Maximum: 2097152 bytes
-->

			<div class="printfooter">
Retrieved from "<a href="http://rtsc.eclipse.org/docs-tip/Special:Offline">http://rtsc.eclipse.org/docs-tip/Special:Offline</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
					 <li id="ca-nstab-special" class="selected"><a href="../Special:Offline/Special:Offline__RTSC_Interface_Primer.html" title="This is a special page, you can't edit the page itself">Special</a></li>
				</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="mediawiki-tip/index.php?title=Special:Userlogin&amp;returnto=Special:Offline" title="You are encouraged to log in, it is not mandatory however. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../common/extensions/rtsc/images/logo.png);" href="/docs-tip/Main_Page" title="Visit the Main Page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-RTSC-pedia-home"><a href="../Main_Page/Main_Page.html">RTSC-pedia home</a></li>
				<li id="n-RTSC-project-home"><a href="http://rtsc.eclipse.org ">RTSC project home</a></li>
				<li id="n-News-.26-support"><a href="http://www.eclipse.org/newsportal/thread.php?group=eclipse.dsdp.rtsc">News &amp; support</a></li>
				<li id="n-Help"><a href="../Help:Contents/Help:Contents.html">Help</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-binders'>
		<h5>binders</h5>
		<div class='pBody'>
			<ul>
				<li id="n-General-Information"><a href="../General_Information/General_Information.html">General Information</a></li>
				<li id="n-RTSC-Programming"><a href="../RTSC_Programming/RTSC_Programming.html">RTSC Programming</a></li>
				<li id="n-User.27s-Guide"><a href="../XDCtools_User%27s_Guide/XDCtools_User%27s_Guide.html">User's Guide</a></li>
				<li id="n-Reference-Manual"><a href="../XDCtools_Reference_Manual/XDCtools_Reference_Manual.html">Reference Manual</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-package_reference'>
		<h5>package reference</h5>
		<div class='pBody'>
			<ul>
				<li id="n-XDCtools-packages"><a href="http://rtsc.eclipse.org/cdoc-tip/index.html ">XDCtools packages</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-lists'>
		<h5>lists</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Master-doc-map"><a href="../Special:DocMap/Special:DocMap__Main_Page.html">Master doc-map</a></li>
				<li id="n-Category-query"><a href="../Special:Cats/Special:Cats.html">Category query</a></li>
				<li id="n-Redirected-pages"><a href="../Special:Listredirects/Special:Listredirects.html">Redirected pages</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-tools'>
		<h5>tools</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Find.2BReplace-.28grep.29"><a href="../Special:Grep/Special:Grep.html">Find+Replace (grep)</a></li>
				<li id="n-RSS-feed"><a href="http://rtsc.eclipse.orgmediawiki-tip/index.php?title=Special:Recentchanges&amp;feed=rss ">RSS feed</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/docs-tip/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Search RTSC-Pedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>more tools</h5>
		<div class="pBody">
			<ul>
<li id="t-upload"><a href="../Special:Upload/Special:Upload.html" title="Upload images or media files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="../Special:Specialpages/Special:Specialpages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../common/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="privacy"><a href="../RTSC-Pedia:Privacy_policy/RTSC-Pedia:Privacy_policy.html" title="RTSC-Pedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="../RTSC-Pedia:About/RTSC-Pedia:About.html" title="RTSC-Pedia:About">About RTSC-Pedia</a></li>
				<li id="disclaimer"><a href="../RTSC-Pedia:General_disclaimer/RTSC-Pedia:General_disclaimer.html" title="RTSC-Pedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served in 0.205 secs. --></body></html>
